webpackHotUpdate("static/development/pages/index.js",{

/***/ "./controllers/PlayerManager.js":
/*!**************************************!*\
  !*** ./controllers/PlayerManager.js ***!
  \**************************************/
/*! exports provided: createNewPlayer, savePlayerToLocalStorage, initPlayer, updateMoney, getMoney, updateBusinessLevel, updateBusinessManager, updateOnGoingTransaction, CURRENT_PLAYER */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createNewPlayer\", function() { return createNewPlayer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"savePlayerToLocalStorage\", function() { return savePlayerToLocalStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initPlayer\", function() { return initPlayer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateMoney\", function() { return updateMoney; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMoney\", function() { return getMoney; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateBusinessLevel\", function() { return updateBusinessLevel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateBusinessManager\", function() { return updateBusinessManager; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateOnGoingTransaction\", function() { return updateOnGoingTransaction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CURRENT_PLAYER\", function() { return CURRENT_PLAYER; });\n/* harmony import */ var _appConfig_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../appConfig.json */ \"./appConfig.json\");\nvar _appConfig_json__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../appConfig.json */ \"./appConfig.json\", 1);\n/* harmony import */ var _classes_Player__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/Player */ \"./classes/Player.js\");\n/* harmony import */ var _models_Errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/Errors */ \"./models/Errors.js\");\n/* harmony import */ var _UtilsManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./UtilsManager */ \"./controllers/UtilsManager.js\");\n/* CONFIGS */\n\n/* CLASSES */\n\n\n/* MODELS */\n\n\n/* CONTROLLERS */\n\n\n/* GLOBALS */\n\nvar MAX_FREQUENCY_SECONDS_DELTA_FOR_LS_SAVING = 5;\nvar CURRENT_PLAYER = {};\nvar isLsEnabled;\nvar savingRequestLock = false;\n/* METHODS */\n\n/**\n *\n * @returns {string}\n */\n\nvar createID = function createID() {\n  return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n};\n/**\n *\n * @param name\n * @returns {Player}\n */\n\n\nvar createNewPlayer = function createNewPlayer(name) {\n  // create vars to assign\n  var ID = createID();\n  var initialAmountOfMoney = _appConfig_json__WEBPACK_IMPORTED_MODULE_0__.PLAYER_CONFIG.INITIAL_AMOUNT_OF_MONEY;\n  var initialBusinesess = [];\n  var lastAccessed = Date.now(); // create new player\n\n  CURRENT_PLAYER = new _classes_Player__WEBPACK_IMPORTED_MODULE_1__[\"default\"](ID, name, initialAmountOfMoney, initialBusinesess, lastAccessed); // save player instance in the localStorage\n\n  savePlayerToLocalStorage();\n  return CURRENT_PLAYER;\n};\n/*\n\n */\n\n\nvar initPlayer = function initPlayer() {\n  try {\n    CURRENT_PLAYER = retrievePlayerFromLocalStorage();\n  } catch (e) {\n    var defaultName = 'JohnDoe_' + Date.now();\n    CURRENT_PLAYER = createNewPlayer(defaultName);\n  } // calculate money while you where away\n\n\n  calculateRevenueWhileAway();\n  return CURRENT_PLAYER;\n};\n/**\n *\n */\n\n\nvar calculateRevenueWhileAway = function calculateRevenueWhileAway() {\n  var moneyToAssign = 0; // 1. take all business with manager\n\n  CURRENT_PLAYER.businesses.forEach(function (elem) {\n    if (elem.HAS_MANAGER) {\n      // 2. take last transaction\n      var secondsAfterLastTransaction = Date.now() - elem.LAST_TRANSACTION_TIMESTAMP; // TODO: calculate ongoing\n\n      var minTimeToDeliverGood = elem.SECONDS_TO_DELIVER_GOOD;\n\n      if (secondsAfterLastTransaction >= minTimeToDeliverGood) {\n        var itemsCollectedWhileAway = parseInt(secondsAfterLastTransaction / minTimeToDeliverGood / 1000);\n        moneyToAssign += itemsCollectedWhileAway * (elem.SINGLE_ITEM_PRICE * elem.CURRENT_LEVEL);\n      }\n    }\n  });\n  CURRENT_PLAYER.money += moneyToAssign;\n  savePlayerToLocalStorage();\n  console.log(\"While away you collect:\".concat(moneyToAssign, \" $\"));\n};\n/**\n *\n */\n\n\nvar retrievePlayerFromLocalStorage = function retrievePlayerFromLocalStorage() {\n  // is localstorage enabled? if false throw an error\n  if (isLsEnabled !== undefined && !Object(_UtilsManager__WEBPACK_IMPORTED_MODULE_3__[\"checkIfLocalStorageIsEnabled\"])()) throw _models_Errors__WEBPACK_IMPORTED_MODULE_2__[\"default\"].LOCAL_STORAGE_NOT_SUPPORTED; // save the player object inside the localStorage\n\n  var playerRawDataFromLS = window.localStorage.getItem(_appConfig_json__WEBPACK_IMPORTED_MODULE_0__.LOCAL_STORAGE_KEYS.PLAYER);\n  if (playerRawDataFromLS === null) throw _models_Errors__WEBPACK_IMPORTED_MODULE_2__[\"default\"].PLAYER_NOT_FOUND_IN_LOCAL_STORAGE; // check if player retrieved has a valid object structure\n\n  try {\n    var _JSON$parse = JSON.parse(atob(playerRawDataFromLS)),\n        id = _JSON$parse.id,\n        name = _JSON$parse.name,\n        money = _JSON$parse.money,\n        businesses = _JSON$parse.businesses; // TODO: check if data structure is the one for the player --> no data tampering happened\n\n\n    CURRENT_PLAYER = new _classes_Player__WEBPACK_IMPORTED_MODULE_1__[\"default\"](id, name, money, businesses, Date.now());\n    return CURRENT_PLAYER;\n  } catch (e) {\n    throw _models_Errors__WEBPACK_IMPORTED_MODULE_2__[\"default\"].GENERIC_ERROR_WHILE_RETRIVING_PLAYER_FROM_LOCAL_STORAGE;\n  }\n};\n/**\n *\n * @returns {Promise<boolean>}\n */\n\n\nvar savePlayerToLocalStorage = function savePlayerToLocalStorage() {\n  // is localstorage enabled? if false throw an error\n  if (isLsEnabled !== undefined && !Object(_UtilsManager__WEBPACK_IMPORTED_MODULE_3__[\"checkIfLocalStorageIsEnabled\"])()) throw _models_Errors__WEBPACK_IMPORTED_MODULE_2__[\"default\"].LOCAL_STORAGE_NOT_SUPPORTED;\n  isLsEnabled = true; // save the player object inside the localStorage\n\n  if (!savingRequestLock) {\n    savingRequestLock = true;\n    setTimeout(function () {\n      window.localStorage.setItem(_appConfig_json__WEBPACK_IMPORTED_MODULE_0__.LOCAL_STORAGE_KEYS.PLAYER, btoa(CURRENT_PLAYER[\"export\"]()));\n      savingRequestLock = false;\n    }, MAX_FREQUENCY_SECONDS_DELTA_FOR_LS_SAVING * 1000);\n  }\n\n  return {\n    success: true\n  };\n};\n/**\n *\n * @param newMoney\n * @param businessId\n */\n\n\nvar updateMoney = function updateMoney(newMoney, businessId) {\n  //  TODO: check if they are int\n  CURRENT_PLAYER.money += newMoney;\n  CURRENT_PLAYER.businesses.map(function (elem) {\n    if (elem.ID === businessId) {\n      elem.LAST_TRANSACTION_TIMESTAMP = Date.now();\n      elem.LAST_ON_GOING_TRANSACTION_TIMESTAMP = Date.now();\n    }\n  });\n  savePlayerToLocalStorage();\n};\n/**\n *\n * @param businessId\n */\n\n\nvar updateOnGoingTransaction = function updateOnGoingTransaction(businessId) {\n  CURRENT_PLAYER.businesses.map(function (elem) {\n    if (elem.ID === businessId) {\n      elem.LAST_ON_GOING_TRANSACTION_TIMESTAMP = Date.now();\n    }\n  });\n  savePlayerToLocalStorage();\n};\n/**\n *\n * @param businessId\n */\n\n\nvar updateBusinessLevel = function updateBusinessLevel(businessId) {\n  // TODO: add error if business not found\n  var currentBusinessToUpdate = CURRENT_PLAYER.businesses.filter(function (elem) {\n    return elem.ID === businessId;\n  })[0];\n  if (currentBusinessToUpdate === undefined) return 'Something wrong'; // check if you reached max level\n\n  if (currentBusinessToUpdate.CURRENT_LEVEL >= 200) return 'Level max already'; // TODO: process this numbers\n\n  var priceForTheUpdate = (currentBusinessToUpdate.CURRENT_LEVEL + 1) * currentBusinessToUpdate.INITIAL_COST; // check if you have enough money\n\n  if (CURRENT_PLAYER.money < priceForTheUpdate) return 'You don\\'t have enough money';\n  CURRENT_PLAYER.businesses.map(function (elem) {\n    if (elem.ID === businessId) {\n      elem.CURRENT_LEVEL += 1;\n    }\n  });\n  CURRENT_PLAYER.money -= priceForTheUpdate;\n  savePlayerToLocalStorage();\n};\n/**\n *\n * @param businessId\n * @returns {string}\n */\n\n\nvar updateBusinessManager = function updateBusinessManager(businessId) {\n  // TODO: add error if business not found\n  var currentBusinessToUpdate = CURRENT_PLAYER.businesses.filter(function (elem) {\n    return elem.ID === businessId;\n  })[0];\n  if (currentBusinessToUpdate === undefined) return 'Something wrong'; // check if you reached max level\n\n  if (currentBusinessToUpdate.HAS_MANAGER) return 'Manager already bought'; // check if you have enough money\n\n  if (CURRENT_PLAYER.money < currentBusinessToUpdate.MANAGER_COST) return 'You don\\'t have enough money to buy manager';\n  CURRENT_PLAYER.businesses.map(function (elem) {\n    if (elem.ID === businessId) {\n      elem.HAS_MANAGER = true;\n    }\n  });\n  CURRENT_PLAYER.money -= currentBusinessToUpdate.MANAGER_COST;\n  savePlayerToLocalStorage();\n  return true;\n};\n/**\n *\n * @returns {*}\n */\n\n\nvar getMoney = function getMoney() {\n  return CURRENT_PLAYER.money;\n};\n\n\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports_1 = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports_1, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports_1)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports_1;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports_1)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb250cm9sbGVycy9QbGF5ZXJNYW5hZ2VyLmpzPzJkYjkiXSwibmFtZXMiOlsiTUFYX0ZSRVFVRU5DWV9TRUNPTkRTX0RFTFRBX0ZPUl9MU19TQVZJTkciLCJDVVJSRU5UX1BMQVlFUiIsImlzTHNFbmFibGVkIiwic2F2aW5nUmVxdWVzdExvY2siLCJjcmVhdGVJRCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImNyZWF0ZU5ld1BsYXllciIsIm5hbWUiLCJJRCIsImluaXRpYWxBbW91bnRPZk1vbmV5IiwiYXBwQ29uZmlnIiwiUExBWUVSX0NPTkZJRyIsIklOSVRJQUxfQU1PVU5UX09GX01PTkVZIiwiaW5pdGlhbEJ1c2luZXNlc3MiLCJsYXN0QWNjZXNzZWQiLCJEYXRlIiwibm93IiwiUGxheWVyIiwic2F2ZVBsYXllclRvTG9jYWxTdG9yYWdlIiwiaW5pdFBsYXllciIsInJldHJpZXZlUGxheWVyRnJvbUxvY2FsU3RvcmFnZSIsImUiLCJkZWZhdWx0TmFtZSIsImNhbGN1bGF0ZVJldmVudWVXaGlsZUF3YXkiLCJtb25leVRvQXNzaWduIiwiYnVzaW5lc3NlcyIsImZvckVhY2giLCJlbGVtIiwiSEFTX01BTkFHRVIiLCJzZWNvbmRzQWZ0ZXJMYXN0VHJhbnNhY3Rpb24iLCJMQVNUX1RSQU5TQUNUSU9OX1RJTUVTVEFNUCIsIm1pblRpbWVUb0RlbGl2ZXJHb29kIiwiU0VDT05EU19UT19ERUxJVkVSX0dPT0QiLCJpdGVtc0NvbGxlY3RlZFdoaWxlQXdheSIsInBhcnNlSW50IiwiU0lOR0xFX0lURU1fUFJJQ0UiLCJDVVJSRU5UX0xFVkVMIiwibW9uZXkiLCJjb25zb2xlIiwibG9nIiwidW5kZWZpbmVkIiwiY2hlY2tJZkxvY2FsU3RvcmFnZUlzRW5hYmxlZCIsIkVycm9ycyIsIkxPQ0FMX1NUT1JBR0VfTk9UX1NVUFBPUlRFRCIsInBsYXllclJhd0RhdGFGcm9tTFMiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiTE9DQUxfU1RPUkFHRV9LRVlTIiwiUExBWUVSIiwiUExBWUVSX05PVF9GT1VORF9JTl9MT0NBTF9TVE9SQUdFIiwiSlNPTiIsInBhcnNlIiwiYXRvYiIsImlkIiwiR0VORVJJQ19FUlJPUl9XSElMRV9SRVRSSVZJTkdfUExBWUVSX0ZST01fTE9DQUxfU1RPUkFHRSIsInNldFRpbWVvdXQiLCJzZXRJdGVtIiwiYnRvYSIsInN1Y2Nlc3MiLCJ1cGRhdGVNb25leSIsIm5ld01vbmV5IiwiYnVzaW5lc3NJZCIsIm1hcCIsIkxBU1RfT05fR09JTkdfVFJBTlNBQ1RJT05fVElNRVNUQU1QIiwidXBkYXRlT25Hb2luZ1RyYW5zYWN0aW9uIiwidXBkYXRlQnVzaW5lc3NMZXZlbCIsImN1cnJlbnRCdXNpbmVzc1RvVXBkYXRlIiwiZmlsdGVyIiwicHJpY2VGb3JUaGVVcGRhdGUiLCJJTklUSUFMX0NPU1QiLCJ1cGRhdGVCdXNpbmVzc01hbmFnZXIiLCJNQU5BR0VSX0NPU1QiLCJnZXRNb25leSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBOztBQUNBO0FBRUE7O0FBQ0E7QUFFQTs7QUFDQTtBQUVBOztBQUNBLElBQU1BLHlDQUF5QyxHQUFHLENBQWxEO0FBQ0EsSUFBSUMsY0FBYyxHQUFHLEVBQXJCO0FBQ0EsSUFBSUMsV0FBSjtBQUNBLElBQUlDLGlCQUFpQixHQUFHLEtBQXhCO0FBRUE7O0FBRUE7Ozs7O0FBSUEsSUFBTUMsUUFBUSxHQUFHLFNBQVhBLFFBQVc7QUFBQSxTQUNmQyxJQUFJLENBQUNDLE1BQUwsR0FBY0MsUUFBZCxDQUF1QixFQUF2QixFQUEyQkMsU0FBM0IsQ0FBcUMsQ0FBckMsRUFBd0MsRUFBeEMsSUFBOENILElBQUksQ0FBQ0MsTUFBTCxHQUFjQyxRQUFkLENBQXVCLEVBQXZCLEVBQTJCQyxTQUEzQixDQUFxQyxDQUFyQyxFQUF3QyxFQUF4QyxDQUQvQjtBQUFBLENBQWpCO0FBR0E7Ozs7Ozs7QUFLQSxJQUFNQyxlQUFlLEdBQUcsU0FBbEJBLGVBQWtCLENBQUNDLElBQUQsRUFBVTtBQUVoQztBQUNBLE1BQU1DLEVBQUUsR0FBR1AsUUFBUSxFQUFuQjtBQUNBLE1BQU1RLG9CQUFvQixHQUFHQyw0Q0FBUyxDQUFDQyxhQUFWLENBQXdCQyx1QkFBckQ7QUFDQSxNQUFNQyxpQkFBaUIsR0FBRyxFQUExQjtBQUNBLE1BQU1DLFlBQVksR0FBR0MsSUFBSSxDQUFDQyxHQUFMLEVBQXJCLENBTmdDLENBUWhDOztBQUNBbEIsZ0JBQWMsR0FBRyxJQUFJbUIsdURBQUosQ0FBV1QsRUFBWCxFQUFlRCxJQUFmLEVBQXFCRSxvQkFBckIsRUFBMkNJLGlCQUEzQyxFQUE4REMsWUFBOUQsQ0FBakIsQ0FUZ0MsQ0FXaEM7O0FBQ0FJLDBCQUF3QjtBQUV4QixTQUFPcEIsY0FBUDtBQUNELENBZkQ7QUFpQkE7Ozs7O0FBR0EsSUFBTXFCLFVBQVUsR0FBRyxTQUFiQSxVQUFhLEdBQU07QUFFdkIsTUFBSTtBQUNGckIsa0JBQWMsR0FBR3NCLDhCQUE4QixFQUEvQztBQUNELEdBRkQsQ0FFRSxPQUFPQyxDQUFQLEVBQVU7QUFDVixRQUFNQyxXQUFXLEdBQUcsYUFBYVAsSUFBSSxDQUFDQyxHQUFMLEVBQWpDO0FBQ0FsQixrQkFBYyxHQUFHUSxlQUFlLENBQUNnQixXQUFELENBQWhDO0FBQ0QsR0FQc0IsQ0FTdkI7OztBQUNBQywyQkFBeUI7QUFFekIsU0FBT3pCLGNBQVA7QUFFRCxDQWREO0FBZ0JBOzs7OztBQUdBLElBQU15Qix5QkFBeUIsR0FBRyxTQUE1QkEseUJBQTRCLEdBQU07QUFFdEMsTUFBSUMsYUFBYSxHQUFHLENBQXBCLENBRnNDLENBSXRDOztBQUNBMUIsZ0JBQWMsQ0FBQzJCLFVBQWYsQ0FBMEJDLE9BQTFCLENBQWtDLFVBQUFDLElBQUksRUFBSTtBQUV4QyxRQUFJQSxJQUFJLENBQUNDLFdBQVQsRUFBc0I7QUFDcEI7QUFDQSxVQUFNQywyQkFBMkIsR0FBR2QsSUFBSSxDQUFDQyxHQUFMLEtBQWFXLElBQUksQ0FBQ0csMEJBQXRELENBRm9CLENBR3BCOztBQUNBLFVBQU1DLG9CQUFvQixHQUFHSixJQUFJLENBQUNLLHVCQUFsQzs7QUFFQSxVQUFJSCwyQkFBMkIsSUFBSUUsb0JBQW5DLEVBQXlEO0FBQ3ZELFlBQU1FLHVCQUF1QixHQUFHQyxRQUFRLENBQUVMLDJCQUEyQixHQUFHRSxvQkFBL0IsR0FBdUQsSUFBeEQsQ0FBeEM7QUFDQVAscUJBQWEsSUFBSVMsdUJBQXVCLElBQUlOLElBQUksQ0FBQ1EsaUJBQUwsR0FBeUJSLElBQUksQ0FBQ1MsYUFBbEMsQ0FBeEM7QUFDRDtBQUNGO0FBQ0YsR0FiRDtBQWVBdEMsZ0JBQWMsQ0FBQ3VDLEtBQWYsSUFBd0JiLGFBQXhCO0FBQ0FOLDBCQUF3QjtBQUV4Qm9CLFNBQU8sQ0FBQ0MsR0FBUixrQ0FBc0NmLGFBQXRDO0FBQ0QsQ0F4QkQ7QUEwQkE7Ozs7O0FBR0EsSUFBTUosOEJBQThCLEdBQUcsU0FBakNBLDhCQUFpQyxHQUFNO0FBRTNDO0FBQ0EsTUFBSXJCLFdBQVcsS0FBS3lDLFNBQWhCLElBQTZCLENBQUNDLGtGQUE0QixFQUE5RCxFQUFrRSxNQUFNQyxzREFBTSxDQUFDQywyQkFBYixDQUh2QixDQUszQzs7QUFDQSxNQUFNQyxtQkFBbUIsR0FBR0MsTUFBTSxDQUFDQyxZQUFQLENBQW9CQyxPQUFwQixDQUE0QnJDLDRDQUFTLENBQUNzQyxrQkFBVixDQUE2QkMsTUFBekQsQ0FBNUI7QUFDQSxNQUFJTCxtQkFBbUIsS0FBSyxJQUE1QixFQUFrQyxNQUFNRixzREFBTSxDQUFDUSxpQ0FBYixDQVBTLENBUzNDOztBQUNBLE1BQUk7QUFBQSxzQkFDb0NDLElBQUksQ0FBQ0MsS0FBTCxDQUFXQyxJQUFJLENBQUNULG1CQUFELENBQWYsQ0FEcEM7QUFBQSxRQUNLVSxFQURMLGVBQ0tBLEVBREw7QUFBQSxRQUNTL0MsSUFEVCxlQUNTQSxJQURUO0FBQUEsUUFDZThCLEtBRGYsZUFDZUEsS0FEZjtBQUFBLFFBQ3NCWixVQUR0QixlQUNzQkEsVUFEdEIsRUFFRjs7O0FBQ0EzQixrQkFBYyxHQUFHLElBQUltQix1REFBSixDQUFXcUMsRUFBWCxFQUFlL0MsSUFBZixFQUFxQjhCLEtBQXJCLEVBQTRCWixVQUE1QixFQUF3Q1YsSUFBSSxDQUFDQyxHQUFMLEVBQXhDLENBQWpCO0FBQ0EsV0FBT2xCLGNBQVA7QUFFRCxHQU5ELENBTUUsT0FBT3VCLENBQVAsRUFBVTtBQUNWLFVBQU1xQixzREFBTSxDQUFDYSx1REFBYjtBQUNEO0FBQ0YsQ0FuQkQ7QUFxQkE7Ozs7OztBQUlBLElBQU1yQyx3QkFBd0IsR0FBRyxTQUEzQkEsd0JBQTJCLEdBQU07QUFFckM7QUFDQSxNQUFJbkIsV0FBVyxLQUFLeUMsU0FBaEIsSUFBNkIsQ0FBQ0Msa0ZBQTRCLEVBQTlELEVBQWtFLE1BQU1DLHNEQUFNLENBQUNDLDJCQUFiO0FBQ2xFNUMsYUFBVyxHQUFHLElBQWQsQ0FKcUMsQ0FNckM7O0FBQ0EsTUFBSSxDQUFDQyxpQkFBTCxFQUF3QjtBQUN0QkEscUJBQWlCLEdBQUcsSUFBcEI7QUFDQXdELGNBQVUsQ0FBQyxZQUFNO0FBQ2ZYLFlBQU0sQ0FBQ0MsWUFBUCxDQUFvQlcsT0FBcEIsQ0FBNEIvQyw0Q0FBUyxDQUFDc0Msa0JBQVYsQ0FBNkJDLE1BQXpELEVBQWlFUyxJQUFJLENBQUM1RCxjQUFjLFVBQWQsRUFBRCxDQUFyRTtBQUNBRSx1QkFBaUIsR0FBRyxLQUFwQjtBQUNELEtBSFMsRUFHUEgseUNBQXlDLEdBQUcsSUFIckMsQ0FBVjtBQUlEOztBQUVELFNBQU87QUFDTDhELFdBQU8sRUFBRTtBQURKLEdBQVA7QUFHRCxDQWxCRDtBQW9CQTs7Ozs7OztBQUtBLElBQU1DLFdBQVcsR0FBRyxTQUFkQSxXQUFjLENBQUNDLFFBQUQsRUFBV0MsVUFBWCxFQUEwQjtBQUM1QztBQUNBaEUsZ0JBQWMsQ0FBQ3VDLEtBQWYsSUFBd0J3QixRQUF4QjtBQUNBL0QsZ0JBQWMsQ0FBQzJCLFVBQWYsQ0FBMEJzQyxHQUExQixDQUE4QixVQUFBcEMsSUFBSSxFQUFJO0FBQ3BDLFFBQUlBLElBQUksQ0FBQ25CLEVBQUwsS0FBWXNELFVBQWhCLEVBQTRCO0FBQzFCbkMsVUFBSSxDQUFDRywwQkFBTCxHQUFrQ2YsSUFBSSxDQUFDQyxHQUFMLEVBQWxDO0FBQ0FXLFVBQUksQ0FBQ3FDLG1DQUFMLEdBQTJDakQsSUFBSSxDQUFDQyxHQUFMLEVBQTNDO0FBQ0Q7QUFDRixHQUxEO0FBTUFFLDBCQUF3QjtBQUN6QixDQVZEO0FBWUE7Ozs7OztBQUlBLElBQU0rQyx3QkFBd0IsR0FBRyxTQUEzQkEsd0JBQTJCLENBQUNILFVBQUQsRUFBZ0I7QUFDL0NoRSxnQkFBYyxDQUFDMkIsVUFBZixDQUEwQnNDLEdBQTFCLENBQThCLFVBQUFwQyxJQUFJLEVBQUk7QUFDcEMsUUFBSUEsSUFBSSxDQUFDbkIsRUFBTCxLQUFZc0QsVUFBaEIsRUFBNEI7QUFDMUJuQyxVQUFJLENBQUNxQyxtQ0FBTCxHQUEyQ2pELElBQUksQ0FBQ0MsR0FBTCxFQUEzQztBQUNEO0FBQ0YsR0FKRDtBQUtBRSwwQkFBd0I7QUFDekIsQ0FQRDtBQVNBOzs7Ozs7QUFJQSxJQUFNZ0QsbUJBQW1CLEdBQUcsU0FBdEJBLG1CQUFzQixDQUFDSixVQUFELEVBQWdCO0FBRTFDO0FBQ0EsTUFBSUssdUJBQXVCLEdBQUdyRSxjQUFjLENBQUMyQixVQUFmLENBQTBCMkMsTUFBMUIsQ0FBaUMsVUFBQXpDLElBQUk7QUFBQSxXQUFJQSxJQUFJLENBQUNuQixFQUFMLEtBQVlzRCxVQUFoQjtBQUFBLEdBQXJDLEVBQWlFLENBQWpFLENBQTlCO0FBQ0EsTUFBSUssdUJBQXVCLEtBQUszQixTQUFoQyxFQUEyQyxPQUFPLGlCQUFQLENBSkQsQ0FNMUM7O0FBQ0EsTUFBSTJCLHVCQUF1QixDQUFDL0IsYUFBeEIsSUFBeUMsR0FBN0MsRUFDRSxPQUFPLG1CQUFQLENBUndDLENBVTFDOztBQUNBLE1BQU1pQyxpQkFBaUIsR0FBRyxDQUFDRix1QkFBdUIsQ0FBQy9CLGFBQXhCLEdBQXdDLENBQXpDLElBQThDK0IsdUJBQXVCLENBQUNHLFlBQWhHLENBWDBDLENBYTFDOztBQUNBLE1BQUl4RSxjQUFjLENBQUN1QyxLQUFmLEdBQXVCZ0MsaUJBQTNCLEVBQ0UsT0FBTyw4QkFBUDtBQUVGdkUsZ0JBQWMsQ0FBQzJCLFVBQWYsQ0FBMEJzQyxHQUExQixDQUE4QixVQUFBcEMsSUFBSSxFQUFJO0FBQ3BDLFFBQUlBLElBQUksQ0FBQ25CLEVBQUwsS0FBWXNELFVBQWhCLEVBQTRCO0FBQzFCbkMsVUFBSSxDQUFDUyxhQUFMLElBQXNCLENBQXRCO0FBQ0Q7QUFDRixHQUpEO0FBTUF0QyxnQkFBYyxDQUFDdUMsS0FBZixJQUF3QmdDLGlCQUF4QjtBQUNBbkQsMEJBQXdCO0FBQ3pCLENBekJEO0FBMkJBOzs7Ozs7O0FBS0EsSUFBTXFELHFCQUFxQixHQUFHLFNBQXhCQSxxQkFBd0IsQ0FBQ1QsVUFBRCxFQUFnQjtBQUM1QztBQUNBLE1BQUlLLHVCQUF1QixHQUFHckUsY0FBYyxDQUFDMkIsVUFBZixDQUEwQjJDLE1BQTFCLENBQWlDLFVBQUF6QyxJQUFJO0FBQUEsV0FBSUEsSUFBSSxDQUFDbkIsRUFBTCxLQUFZc0QsVUFBaEI7QUFBQSxHQUFyQyxFQUFpRSxDQUFqRSxDQUE5QjtBQUNBLE1BQUlLLHVCQUF1QixLQUFLM0IsU0FBaEMsRUFBMkMsT0FBTyxpQkFBUCxDQUhDLENBSzVDOztBQUNBLE1BQUkyQix1QkFBdUIsQ0FBQ3ZDLFdBQTVCLEVBQ0UsT0FBTyx3QkFBUCxDQVAwQyxDQVM1Qzs7QUFDQSxNQUFJOUIsY0FBYyxDQUFDdUMsS0FBZixHQUF1QjhCLHVCQUF1QixDQUFDSyxZQUFuRCxFQUNFLE9BQU8sNkNBQVA7QUFFRjFFLGdCQUFjLENBQUMyQixVQUFmLENBQTBCc0MsR0FBMUIsQ0FBOEIsVUFBQXBDLElBQUksRUFBSTtBQUNwQyxRQUFJQSxJQUFJLENBQUNuQixFQUFMLEtBQVlzRCxVQUFoQixFQUE0QjtBQUMxQm5DLFVBQUksQ0FBQ0MsV0FBTCxHQUFtQixJQUFuQjtBQUNEO0FBQ0YsR0FKRDtBQU1BOUIsZ0JBQWMsQ0FBQ3VDLEtBQWYsSUFBd0I4Qix1QkFBdUIsQ0FBQ0ssWUFBaEQ7QUFDQXRELDBCQUF3QjtBQUV4QixTQUFPLElBQVA7QUFDRCxDQXZCRDtBQXlCQTs7Ozs7O0FBSUEsSUFBTXVELFFBQVEsR0FBRyxTQUFYQSxRQUFXO0FBQUEsU0FBTTNFLGNBQWMsQ0FBQ3VDLEtBQXJCO0FBQUEsQ0FBakI7O0FBRUEiLCJmaWxlIjoiLi9jb250cm9sbGVycy9QbGF5ZXJNYW5hZ2VyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQ09ORklHUyAqL1xuaW1wb3J0IGFwcENvbmZpZyBmcm9tICcuLi9hcHBDb25maWcuanNvbic7XG5cbi8qIENMQVNTRVMgKi9cbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi4vY2xhc3Nlcy9QbGF5ZXInO1xuXG4vKiBNT0RFTFMgKi9cbmltcG9ydCBFcnJvcnMgZnJvbSAnLi4vbW9kZWxzL0Vycm9ycyc7XG5cbi8qIENPTlRST0xMRVJTICovXG5pbXBvcnQgeyBjaGVja0lmTG9jYWxTdG9yYWdlSXNFbmFibGVkIH0gZnJvbSAnLi9VdGlsc01hbmFnZXInO1xuXG4vKiBHTE9CQUxTICovXG5jb25zdCBNQVhfRlJFUVVFTkNZX1NFQ09ORFNfREVMVEFfRk9SX0xTX1NBVklORyA9IDU7XG5sZXQgQ1VSUkVOVF9QTEFZRVIgPSB7fTtcbmxldCBpc0xzRW5hYmxlZDtcbmxldCBzYXZpbmdSZXF1ZXN0TG9jayA9IGZhbHNlO1xuXG4vKiBNRVRIT0RTICovXG5cbi8qKlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmNvbnN0IGNyZWF0ZUlEID0gKCkgPT5cbiAgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSk7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBuYW1lXG4gKiBAcmV0dXJucyB7UGxheWVyfVxuICovXG5jb25zdCBjcmVhdGVOZXdQbGF5ZXIgPSAobmFtZSkgPT4ge1xuXG4gIC8vIGNyZWF0ZSB2YXJzIHRvIGFzc2lnblxuICBjb25zdCBJRCA9IGNyZWF0ZUlEKCk7XG4gIGNvbnN0IGluaXRpYWxBbW91bnRPZk1vbmV5ID0gYXBwQ29uZmlnLlBMQVlFUl9DT05GSUcuSU5JVElBTF9BTU9VTlRfT0ZfTU9ORVk7XG4gIGNvbnN0IGluaXRpYWxCdXNpbmVzZXNzID0gW107XG4gIGNvbnN0IGxhc3RBY2Nlc3NlZCA9IERhdGUubm93KCk7XG5cbiAgLy8gY3JlYXRlIG5ldyBwbGF5ZXJcbiAgQ1VSUkVOVF9QTEFZRVIgPSBuZXcgUGxheWVyKElELCBuYW1lLCBpbml0aWFsQW1vdW50T2ZNb25leSwgaW5pdGlhbEJ1c2luZXNlc3MsIGxhc3RBY2Nlc3NlZCk7XG5cbiAgLy8gc2F2ZSBwbGF5ZXIgaW5zdGFuY2UgaW4gdGhlIGxvY2FsU3RvcmFnZVxuICBzYXZlUGxheWVyVG9Mb2NhbFN0b3JhZ2UoKTtcblxuICByZXR1cm4gQ1VSUkVOVF9QTEFZRVI7XG59XG5cbi8qXG5cbiAqL1xuY29uc3QgaW5pdFBsYXllciA9ICgpID0+IHtcblxuICB0cnkge1xuICAgIENVUlJFTlRfUExBWUVSID0gcmV0cmlldmVQbGF5ZXJGcm9tTG9jYWxTdG9yYWdlKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zdCBkZWZhdWx0TmFtZSA9ICdKb2huRG9lXycgKyBEYXRlLm5vdygpO1xuICAgIENVUlJFTlRfUExBWUVSID0gY3JlYXRlTmV3UGxheWVyKGRlZmF1bHROYW1lKVxuICB9XG5cbiAgLy8gY2FsY3VsYXRlIG1vbmV5IHdoaWxlIHlvdSB3aGVyZSBhd2F5XG4gIGNhbGN1bGF0ZVJldmVudWVXaGlsZUF3YXkoKTtcblxuICByZXR1cm4gQ1VSUkVOVF9QTEFZRVI7XG5cbn1cblxuLyoqXG4gKlxuICovXG5jb25zdCBjYWxjdWxhdGVSZXZlbnVlV2hpbGVBd2F5ID0gKCkgPT4ge1xuXG4gIGxldCBtb25leVRvQXNzaWduID0gMDtcblxuICAvLyAxLiB0YWtlIGFsbCBidXNpbmVzcyB3aXRoIG1hbmFnZXJcbiAgQ1VSUkVOVF9QTEFZRVIuYnVzaW5lc3Nlcy5mb3JFYWNoKGVsZW0gPT4ge1xuXG4gICAgaWYgKGVsZW0uSEFTX01BTkFHRVIpIHtcbiAgICAgIC8vIDIuIHRha2UgbGFzdCB0cmFuc2FjdGlvblxuICAgICAgY29uc3Qgc2Vjb25kc0FmdGVyTGFzdFRyYW5zYWN0aW9uID0gRGF0ZS5ub3coKSAtIGVsZW0uTEFTVF9UUkFOU0FDVElPTl9USU1FU1RBTVA7XG4gICAgICAvLyBUT0RPOiBjYWxjdWxhdGUgb25nb2luZ1xuICAgICAgY29uc3QgbWluVGltZVRvRGVsaXZlckdvb2QgPSBlbGVtLlNFQ09ORFNfVE9fREVMSVZFUl9HT09EO1xuXG4gICAgICBpZiAoc2Vjb25kc0FmdGVyTGFzdFRyYW5zYWN0aW9uID49IG1pblRpbWVUb0RlbGl2ZXJHb29kKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1zQ29sbGVjdGVkV2hpbGVBd2F5ID0gcGFyc2VJbnQoKHNlY29uZHNBZnRlckxhc3RUcmFuc2FjdGlvbiAvIG1pblRpbWVUb0RlbGl2ZXJHb29kKSAvIDEwMDApO1xuICAgICAgICBtb25leVRvQXNzaWduICs9IGl0ZW1zQ29sbGVjdGVkV2hpbGVBd2F5ICogKGVsZW0uU0lOR0xFX0lURU1fUFJJQ0UgKiBlbGVtLkNVUlJFTlRfTEVWRUwpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgQ1VSUkVOVF9QTEFZRVIubW9uZXkgKz0gbW9uZXlUb0Fzc2lnbjtcbiAgc2F2ZVBsYXllclRvTG9jYWxTdG9yYWdlKCk7XG5cbiAgY29uc29sZS5sb2coYFdoaWxlIGF3YXkgeW91IGNvbGxlY3Q6JHttb25leVRvQXNzaWdufSAkYClcbn1cblxuLyoqXG4gKlxuICovXG5jb25zdCByZXRyaWV2ZVBsYXllckZyb21Mb2NhbFN0b3JhZ2UgPSAoKSA9PiB7XG5cbiAgLy8gaXMgbG9jYWxzdG9yYWdlIGVuYWJsZWQ/IGlmIGZhbHNlIHRocm93IGFuIGVycm9yXG4gIGlmIChpc0xzRW5hYmxlZCAhPT0gdW5kZWZpbmVkICYmICFjaGVja0lmTG9jYWxTdG9yYWdlSXNFbmFibGVkKCkpIHRocm93IEVycm9ycy5MT0NBTF9TVE9SQUdFX05PVF9TVVBQT1JURURcblxuICAvLyBzYXZlIHRoZSBwbGF5ZXIgb2JqZWN0IGluc2lkZSB0aGUgbG9jYWxTdG9yYWdlXG4gIGNvbnN0IHBsYXllclJhd0RhdGFGcm9tTFMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oYXBwQ29uZmlnLkxPQ0FMX1NUT1JBR0VfS0VZUy5QTEFZRVIpO1xuICBpZiAocGxheWVyUmF3RGF0YUZyb21MUyA9PT0gbnVsbCkgdGhyb3cgRXJyb3JzLlBMQVlFUl9OT1RfRk9VTkRfSU5fTE9DQUxfU1RPUkFHRTtcblxuICAvLyBjaGVjayBpZiBwbGF5ZXIgcmV0cmlldmVkIGhhcyBhIHZhbGlkIG9iamVjdCBzdHJ1Y3R1cmVcbiAgdHJ5IHtcbiAgICBjb25zdCB7aWQsIG5hbWUsIG1vbmV5LCBidXNpbmVzc2VzfSA9IEpTT04ucGFyc2UoYXRvYihwbGF5ZXJSYXdEYXRhRnJvbUxTKSk7XG4gICAgLy8gVE9ETzogY2hlY2sgaWYgZGF0YSBzdHJ1Y3R1cmUgaXMgdGhlIG9uZSBmb3IgdGhlIHBsYXllciAtLT4gbm8gZGF0YSB0YW1wZXJpbmcgaGFwcGVuZWRcbiAgICBDVVJSRU5UX1BMQVlFUiA9IG5ldyBQbGF5ZXIoaWQsIG5hbWUsIG1vbmV5LCBidXNpbmVzc2VzLCBEYXRlLm5vdygpKTtcbiAgICByZXR1cm4gQ1VSUkVOVF9QTEFZRVI7XG5cbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IEVycm9ycy5HRU5FUklDX0VSUk9SX1dISUxFX1JFVFJJVklOR19QTEFZRVJfRlJPTV9MT0NBTF9TVE9SQUdFO1xuICB9XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICovXG5jb25zdCBzYXZlUGxheWVyVG9Mb2NhbFN0b3JhZ2UgPSAoKSA9PiB7XG5cbiAgLy8gaXMgbG9jYWxzdG9yYWdlIGVuYWJsZWQ/IGlmIGZhbHNlIHRocm93IGFuIGVycm9yXG4gIGlmIChpc0xzRW5hYmxlZCAhPT0gdW5kZWZpbmVkICYmICFjaGVja0lmTG9jYWxTdG9yYWdlSXNFbmFibGVkKCkpIHRocm93IEVycm9ycy5MT0NBTF9TVE9SQUdFX05PVF9TVVBQT1JURUQ7XG4gIGlzTHNFbmFibGVkID0gdHJ1ZTtcblxuICAvLyBzYXZlIHRoZSBwbGF5ZXIgb2JqZWN0IGluc2lkZSB0aGUgbG9jYWxTdG9yYWdlXG4gIGlmICghc2F2aW5nUmVxdWVzdExvY2spIHtcbiAgICBzYXZpbmdSZXF1ZXN0TG9jayA9IHRydWU7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oYXBwQ29uZmlnLkxPQ0FMX1NUT1JBR0VfS0VZUy5QTEFZRVIsIGJ0b2EoQ1VSUkVOVF9QTEFZRVIuZXhwb3J0KCkpKTtcbiAgICAgIHNhdmluZ1JlcXVlc3RMb2NrID0gZmFsc2U7XG4gICAgfSwgTUFYX0ZSRVFVRU5DWV9TRUNPTkRTX0RFTFRBX0ZPUl9MU19TQVZJTkcgKiAxMDAwKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdWNjZXNzOiB0cnVlXG4gIH07XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBuZXdNb25leVxuICogQHBhcmFtIGJ1c2luZXNzSWRcbiAqL1xuY29uc3QgdXBkYXRlTW9uZXkgPSAobmV3TW9uZXksIGJ1c2luZXNzSWQpID0+IHtcbiAgLy8gIFRPRE86IGNoZWNrIGlmIHRoZXkgYXJlIGludFxuICBDVVJSRU5UX1BMQVlFUi5tb25leSArPSBuZXdNb25leTtcbiAgQ1VSUkVOVF9QTEFZRVIuYnVzaW5lc3Nlcy5tYXAoZWxlbSA9PiB7XG4gICAgaWYgKGVsZW0uSUQgPT09IGJ1c2luZXNzSWQpIHtcbiAgICAgIGVsZW0uTEFTVF9UUkFOU0FDVElPTl9USU1FU1RBTVAgPSBEYXRlLm5vdygpO1xuICAgICAgZWxlbS5MQVNUX09OX0dPSU5HX1RSQU5TQUNUSU9OX1RJTUVTVEFNUCA9IERhdGUubm93KCk7XG4gICAgfVxuICB9KTtcbiAgc2F2ZVBsYXllclRvTG9jYWxTdG9yYWdlKCk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBidXNpbmVzc0lkXG4gKi9cbmNvbnN0IHVwZGF0ZU9uR29pbmdUcmFuc2FjdGlvbiA9IChidXNpbmVzc0lkKSA9PiB7XG4gIENVUlJFTlRfUExBWUVSLmJ1c2luZXNzZXMubWFwKGVsZW0gPT4ge1xuICAgIGlmIChlbGVtLklEID09PSBidXNpbmVzc0lkKSB7XG4gICAgICBlbGVtLkxBU1RfT05fR09JTkdfVFJBTlNBQ1RJT05fVElNRVNUQU1QID0gRGF0ZS5ub3coKTtcbiAgICB9XG4gIH0pO1xuICBzYXZlUGxheWVyVG9Mb2NhbFN0b3JhZ2UoKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIGJ1c2luZXNzSWRcbiAqL1xuY29uc3QgdXBkYXRlQnVzaW5lc3NMZXZlbCA9IChidXNpbmVzc0lkKSA9PiB7XG5cbiAgLy8gVE9ETzogYWRkIGVycm9yIGlmIGJ1c2luZXNzIG5vdCBmb3VuZFxuICBsZXQgY3VycmVudEJ1c2luZXNzVG9VcGRhdGUgPSBDVVJSRU5UX1BMQVlFUi5idXNpbmVzc2VzLmZpbHRlcihlbGVtID0+IGVsZW0uSUQgPT09IGJ1c2luZXNzSWQpWzBdO1xuICBpZiAoY3VycmVudEJ1c2luZXNzVG9VcGRhdGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuICdTb21ldGhpbmcgd3JvbmcnO1xuXG4gIC8vIGNoZWNrIGlmIHlvdSByZWFjaGVkIG1heCBsZXZlbFxuICBpZiAoY3VycmVudEJ1c2luZXNzVG9VcGRhdGUuQ1VSUkVOVF9MRVZFTCA+PSAyMDApXG4gICAgcmV0dXJuICdMZXZlbCBtYXggYWxyZWFkeSc7XG5cbiAgLy8gVE9ETzogcHJvY2VzcyB0aGlzIG51bWJlcnNcbiAgY29uc3QgcHJpY2VGb3JUaGVVcGRhdGUgPSAoY3VycmVudEJ1c2luZXNzVG9VcGRhdGUuQ1VSUkVOVF9MRVZFTCArIDEpICogY3VycmVudEJ1c2luZXNzVG9VcGRhdGUuSU5JVElBTF9DT1NUO1xuXG4gIC8vIGNoZWNrIGlmIHlvdSBoYXZlIGVub3VnaCBtb25leVxuICBpZiAoQ1VSUkVOVF9QTEFZRVIubW9uZXkgPCBwcmljZUZvclRoZVVwZGF0ZSlcbiAgICByZXR1cm4gJ1lvdSBkb25cXCd0IGhhdmUgZW5vdWdoIG1vbmV5JztcblxuICBDVVJSRU5UX1BMQVlFUi5idXNpbmVzc2VzLm1hcChlbGVtID0+IHtcbiAgICBpZiAoZWxlbS5JRCA9PT0gYnVzaW5lc3NJZCkge1xuICAgICAgZWxlbS5DVVJSRU5UX0xFVkVMICs9IDE7XG4gICAgfVxuICB9KTtcblxuICBDVVJSRU5UX1BMQVlFUi5tb25leSAtPSBwcmljZUZvclRoZVVwZGF0ZTtcbiAgc2F2ZVBsYXllclRvTG9jYWxTdG9yYWdlKCk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBidXNpbmVzc0lkXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5jb25zdCB1cGRhdGVCdXNpbmVzc01hbmFnZXIgPSAoYnVzaW5lc3NJZCkgPT4ge1xuICAvLyBUT0RPOiBhZGQgZXJyb3IgaWYgYnVzaW5lc3Mgbm90IGZvdW5kXG4gIGxldCBjdXJyZW50QnVzaW5lc3NUb1VwZGF0ZSA9IENVUlJFTlRfUExBWUVSLmJ1c2luZXNzZXMuZmlsdGVyKGVsZW0gPT4gZWxlbS5JRCA9PT0gYnVzaW5lc3NJZClbMF07XG4gIGlmIChjdXJyZW50QnVzaW5lc3NUb1VwZGF0ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJ1NvbWV0aGluZyB3cm9uZyc7XG5cbiAgLy8gY2hlY2sgaWYgeW91IHJlYWNoZWQgbWF4IGxldmVsXG4gIGlmIChjdXJyZW50QnVzaW5lc3NUb1VwZGF0ZS5IQVNfTUFOQUdFUilcbiAgICByZXR1cm4gJ01hbmFnZXIgYWxyZWFkeSBib3VnaHQnO1xuXG4gIC8vIGNoZWNrIGlmIHlvdSBoYXZlIGVub3VnaCBtb25leVxuICBpZiAoQ1VSUkVOVF9QTEFZRVIubW9uZXkgPCBjdXJyZW50QnVzaW5lc3NUb1VwZGF0ZS5NQU5BR0VSX0NPU1QpXG4gICAgcmV0dXJuICdZb3UgZG9uXFwndCBoYXZlIGVub3VnaCBtb25leSB0byBidXkgbWFuYWdlcic7XG5cbiAgQ1VSUkVOVF9QTEFZRVIuYnVzaW5lc3Nlcy5tYXAoZWxlbSA9PiB7XG4gICAgaWYgKGVsZW0uSUQgPT09IGJ1c2luZXNzSWQpIHtcbiAgICAgIGVsZW0uSEFTX01BTkFHRVIgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgQ1VSUkVOVF9QTEFZRVIubW9uZXkgLT0gY3VycmVudEJ1c2luZXNzVG9VcGRhdGUuTUFOQUdFUl9DT1NUO1xuICBzYXZlUGxheWVyVG9Mb2NhbFN0b3JhZ2UoKTtcblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKlxuICogQHJldHVybnMgeyp9XG4gKi9cbmNvbnN0IGdldE1vbmV5ID0gKCkgPT4gQ1VSUkVOVF9QTEFZRVIubW9uZXk7XG5cbmV4cG9ydCB7XG4gIGNyZWF0ZU5ld1BsYXllcixcbiAgc2F2ZVBsYXllclRvTG9jYWxTdG9yYWdlLFxuICBpbml0UGxheWVyLFxuICB1cGRhdGVNb25leSxcbiAgZ2V0TW9uZXksXG4gIHVwZGF0ZUJ1c2luZXNzTGV2ZWwsXG4gIHVwZGF0ZUJ1c2luZXNzTWFuYWdlcixcbiAgdXBkYXRlT25Hb2luZ1RyYW5zYWN0aW9uLFxuICBDVVJSRU5UX1BMQVlFUlxufVxuXG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./controllers/PlayerManager.js\n");

/***/ })

})